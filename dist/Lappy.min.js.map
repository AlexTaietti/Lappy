{"version":3,"sources":["webpack://lappy/webpack/universalModuleDefinition","webpack://lappy/webpack/bootstrap","webpack://lappy/./src/Util.js","webpack://lappy/./src/BasicOverlapObject.js","webpack://lappy/./src/ActiveOverlapObject.js","webpack://lappy/./src/GraphicalTest.js","webpack://lappy/./src/Lappy.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Util","mergeObjects","target","deep","prop","getDocumentHeight","Math","max","document","documentElement","clientHeight","body","scrollHeight","offsetHeight","getDocumentWidth","clientWidth","scrollWidth","offsetWidth","getInnerCoords","element","coords","w","h","y","getBoundingClientRect","scrollY","x","scrollX","getOuterCoords","offset","axis","innerWidth","innerHeight","BasicOverlapObject","htmlElement","_defaults","this","HTML","active","htmlCoordinates","coordinates","ActiveOverlapObject","options","trackedObjects","length","updateCoordinates","overlapObject","callbacks","_defaultCallbacks","onApproach","main","check","onOverlap","onExit","onLeave","NodeList","isPrototypeOf","push","lastOverlapData","GraphicalTest","defaults","context","undefined","approachColor","completeOptions","paused","beginPath","fillStyle","textAlign","textBaseline","fillText","closePath","strokeStyle","setLineDash","strokeRect","stroke","displayCoordinates","drawApproachArea","display","clearRect","canvas","width","height","clearTestDisplay","Lappy","graphicalTest","overlapObjects","newOverlapObject","overlapX","checkOverlapX","overlapY","checkOverlapY","overlap","calculateOverlap","abs","graphicalTestData","resizeGraphicalTestCanvas","displayGraphicalTest","currentActive","checkOverlap"],"mappings":"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","file":"Lappy.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"lappy\"] = factory();\n\telse\n\t\troot[\"lappy\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/home/alex/projects/Lappy/dist\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","export const Util = {\n\n  // merge two objects by replacing each of the target's properties with the corresponding object's property if defined otherwise keep the target as is\n  mergeObjects: (target, object, deep) => {\n\n  \tfor(let prop in target){\n  \t\tif(object.hasOwnProperty(prop)){\n  \t\t\tif(typeof object[prop] === \"object\"){\n  \t\t\t\tif(deep){\n  \t\t\t\t\tmergeObjects(target[prop], object[prop], true);\n  \t\t\t\t} else {\n  \t\t\t\t\ttarget[prop] = object[prop];\n  \t\t\t\t}\n  \t\t\t} else {\n  \t\t\t\ttarget[prop] = object[prop];\n  \t\t\t}\n  \t\t}\n  \t}\n\n  \treturn target;\n\n  },\n\n\n  // get the document's height cross browser reliably\n  getDocumentHeight: () => {\n\n      return Math.max(\n\n          document.documentElement.clientHeight,\n          document.body.scrollHeight,\n          document.documentElement.scrollHeight,\n          document.body.offsetHeight,\n          document.documentElement.offsetHeight\n\n      );\n\n  },\n\n  // get the document's width cross browser reliably\n  getDocumentWidth: () => {\n\n      return Math.max(\n\n          document.documentElement.clientWidth,\n          document.body.scrollWidth,\n          document.documentElement.scrollWidth,\n          document.body.offsetWidth,\n          document.documentElement.offsetWidth\n\n      );\n\n  },\n\n  // get an HTML element's variables\n  getInnerCoords: (element) => {\n\n  \tlet coords = [], w = element.offsetWidth, h = element.offsetHeight;\n\n  \tcoords[0] = {\n  \t\ty: element.getBoundingClientRect().y + window.scrollY,\n  \t\tx: element.getBoundingClientRect().x + window.scrollX\n  \t};\n\n  \tcoords[1] = {\n  \t\ty: element.getBoundingClientRect().y + window.scrollY,\n  \t\tx: element.getBoundingClientRect().x + window.scrollX + w\n  \t};\n\n  \tcoords[2] = {\n  \t\ty: element.getBoundingClientRect().y + window.scrollY + h,\n  \t\tx: element.getBoundingClientRect().x + window.scrollX + w\n  \t};\n\n  \tcoords[3] = {\n  \t\ty: element.getBoundingClientRect().y + window.scrollY + h,\n  \t\tx: element.getBoundingClientRect().x + window.scrollX\n  \t};\n\n  \treturn coords;\n\n  },\n\n  // get an overlapObject's outer apprach area's coordinates\n  getOuterCoords: (element, offset = 0, axis = {x: null, y: null}) => {\n\n  \tlet coords = [], w = element.offsetWidth, h = element.offsetHeight;\n\n  \tcoords[0] = {\n  \t\ty: axis.y ? (element.getBoundingClientRect().y + window.scrollY - offset.y) : 0,\n  \t\tx: axis.x ? (element.getBoundingClientRect().x + window.scrollX - offset.x) : 0\n  \t};\n\n  \tcoords[1] = {\n  \t\ty: axis.y ? (element.getBoundingClientRect().y + window.scrollY - offset.y) : 0,\n  \t\tx: axis.x ? (element.getBoundingClientRect().x + window.scrollX + w + offset.x) : window.innerWidth\n  \t};\n\n  \tcoords[2] = {\n  \t\ty: axis.y ? (element.getBoundingClientRect().y + window.scrollY + h + offset.y) : window.innerHeight,\n  \t\tx: axis.x ? (element.getBoundingClientRect().x + window.scrollX + w + offset.x) : window.innerWidth\n  \t};\n\n  \tcoords[3] = {\n  \t\ty: axis.y ? (element.getBoundingClientRect().y + window.scrollY + h + offset.y) : window.innerHeight,\n  \t\tx: axis.x ? (element.getBoundingClientRect().x + window.scrollX - offset.x) : 0\n  \t};\n\n  \treturn coords;\n\n  }\n\n\n\n}\n","import {Util} from './Util.js';\n\nexport class BasicOverlapObject {\n\n\n\tconstructor (htmlElement, {offset, axis} = {}) {\n\n\t\tconst _defaults = {\n\t\t\toffset: {x: 0, y: 0},\n\t\t\taxis: { x: true, y: true }\n\t\t};\n\n\t\t// object's HTML\n\t\tthis.HTML = htmlElement;\n\n\t\t// object data\n\t\tthis.offset          = offset || _defaults.offset;\n\t\tthis.axis            = axis   || _defaults.axis;\n\t\tthis.active          = false;\n\t\tthis.htmlCoordinates = Util.getInnerCoords(htmlElement);\n\t\tthis.coordinates     = Util.getOuterCoords(htmlElement, this.offset, this.axis);\n\n\t}\n\n\t// update both the coordinates of the actual HTML element as well as the imaginary offset bounding box surrounding it\n\tupdateCoordinates () {\n\t\tthis.htmlCoordinates = Util.getInnerCoords(this.HTML);\n\t\tthis.coordinates     = Util.getOuterCoords(this.HTML, this.offset, this.axis);\n\t}\n\n\n}\n","import {Util} from './Util.js';\nimport {BasicOverlapObject} from './BasicOverlapObject.js';\n\nexport class ActiveOverlapObject extends BasicOverlapObject {\n\n\n\tconstructor(htmlElement, options = {}) {\n\n\t\t// invoke super class constructor (aka BasicOverlapObject's constructor)\n\t\tsuper(htmlElement, options);\n\n\t\t// this boi is active\n\t\tthis.active = true;\n\n\t\t// passive objects this boiii can interact with\n\t\tthis.trackedObjects = [];\n\n\t}\n\n\t// update the active element's coordinates as well as the coordinates of the basic objects it may interact with\n\tupdateCoordinates () {\n\n\t\tthis.htmlCoordinates = Util.getInnerCoords(this.HTML);\n\t\tthis.coordinates     = Util.getOuterCoords(this.HTML, this.offset, this.axis);\n\n\t\tfor(let i = 0; i < this.trackedObjects.length; i++) {\n\t\t\tthis.trackedObjects[i].object.updateCoordinates();\n\t\t}\n\n\t}\n\n\t// add a new basic object this active one can interact with (can also be an HTML collection)\n\taddTrackedObject (overlapObject, callbacks = {}, options = {}) {\n\n\t\t// default callbacks\n\t\tconst _defaultCallbacks = {\n\t\t\tonApproach: function  (main, check) { return 1; },\n\t\t\tonOverlap:  function  (main, check) { return 1; },\n\t\t\tonExit:     function  (main, check) { return 1; },\n\t\t\tonLeave:    function  (main, check) { return 1; }\n\t\t};\n\n\t\tif(NodeList.prototype.isPrototypeOf(overlapObject)){\n\n\t\t\tfor(let i = 0; i < overlapObject.length; i++){\n\n\t\t\t\tthis.trackedObjects.push({\n\n\t\t\t\t\tobject: overlapObject instanceof BasicOverlapObject ? overlapObject : new BasicOverlapObject(overlapObject[i], options),\n\n\t\t\t\t\tcallbacks: Util.mergeObjects(_defaultCallbacks, callbacks),\n\n\t\t\t\t\tlastOverlapData: {x: null, y: null}\n\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.trackedObjects.push({\n\n\t\t\t\tobject: overlapObject instanceof BasicOverlapObject ? overlapObject : new BasicOverlapObject(overlapObject, options),\n\n\t\t\t\tcallbacks: Util.mergeObjects(_defaultCallbacks, callbacks),\n\n\t\t\t\tlastOverlapData: {x: null, y: null}\n\n\t\t\t});\n\n\t\t}\n\n\t}\n\n\n}\n","import {Util} from './Util.js';\n\nexport class GraphicalTest {\n\n\n\tconstructor(options = {}){\n\n\t\tconst defaults = {\n\t\t\tcontext: undefined,\n\t\t\tapproachColor: 'red'\n\t\t};\n\n\t\tconst completeOptions = Util.mergeObjects(defaults, options);\n\n\t\t// context options (more coming soon!)\n\t\tthis.context       = completeOptions.context;\n\t\tthis.approachColor = completeOptions.approachColor;\n\n\t\t// paused flag\n\t\tthis.paused = false;\n\n\t}\n\n\t// display the coordinates of each vertex of the target (aka the current element) relative to the document's top left corner\n\t// basically the space used to represent the elements is the inverse first quadrant of a 2D plane\n\tdisplayCoordinates (target) {\n\t\tthis.context.beginPath();\n\t\tthis.context.fillStyle = \"black\";\n\t\tthis.context.textAlign = \"center\";\n\t\tthis.context.textBaseline = \"middle\";\n\t\tthis.context.fillText(`x:${~~target.htmlCoordinates[0].x}, y:${~~target.htmlCoordinates[0].y}`, ~~target.htmlCoordinates[0].x, ~~target.htmlCoordinates[0].y - 15);\n\t\tthis.context.fillText(`x:${~~target.htmlCoordinates[1].x}, y:${~~target.htmlCoordinates[1].y}`, ~~target.htmlCoordinates[1].x, ~~target.htmlCoordinates[1].y - 15);\n\t\tthis.context.fillText(`x:${~~target.htmlCoordinates[2].x}, y:${~~target.htmlCoordinates[2].y}`, ~~target.htmlCoordinates[2].x, ~~target.htmlCoordinates[2].y + 15);\n\t\tthis.context.fillText(`x:${~~target.htmlCoordinates[3].x}, y:${~~target.htmlCoordinates[3].y}`, ~~target.htmlCoordinates[3].x, ~~target.htmlCoordinates[3].y + 15);\n\t\tthis.context.closePath();\n\t}\n\n\t// draw a dashed line on the outer area of the object\n\tdrawApproachArea (target) {\n\t\tthis.context.beginPath();\n\t\tthis.context.strokeStyle = this.approachColor;\n\t\tthis.context.setLineDash([5, 10]);\n\t\tthis.context.strokeRect(target.coordinates[0].x, target.coordinates[0].y, target.coordinates[2].x - target.coordinates[0].x, target.coordinates[2].y - target.coordinates[0].y);\n\t\tthis.context.stroke();\n\t\tthis.context.closePath();\n\t}\n\n\t// display the target on the graphical test canvas\n\tdisplay (target) {\n\t\tthis.displayCoordinates(target);\n\t\tif (target.offset.x || target.offset.y) this.drawApproachArea(target);\n\t\tif(target.active && target.trackedObjects.length){\n\t\t\tfor(let i = 0; i < target.trackedObjects.length; i ++){\n\t\t\t\tthis.display(target.trackedObjects[i].object);\n\t\t\t}\n\t\t}\n\t}\n\n\t// clear the graphical test's display\n\tclearTestDisplay () {\n\t\tthis.context.clearRect(0, 0, this.context.canvas.width, this.context.canvas.height);\n\t}\n\n\t// pause graphical test\n\tpause () {\n\t\tthis.clearTestDisplay();\n\t\tthis.paused = true;\n\t}\n\n\t// resume graphical test\n\tresume () { this.paused = false; }\n\n\n}\n","import {Util} from './Util.js';\nimport {GraphicalTest} from './GraphicalTest.js';\n\nexport class Lappy {\n\n\n\tconstructor ({graphicalTest} = {}) {\n\t\tif(graphicalTest) this.graphicalTest = new GraphicalTest(graphicalTest);\n\t\tthis.overlapObjects = [];\n\t}\n\n\t// add one more active object to be tracked by Lappy\n\taddActiveObject (newOverlapObject) {\n\t\tthis.overlapObjects.push(newOverlapObject);\n\t}\n\n\t// resize the graphical test canvas' dimensions (to be called whenever the window is resized)\n\tresizeGraphicalTestCanvas () {\n\t\tthis.graphicalTest.context.canvas.width = Util.getDocumentWidth();\n\t\tthis.graphicalTest.context.canvas.height = Util.getDocumentHeight();\n\t}\n\n\tcheckOverlapY (main, check) {\n\t\tif(main.htmlCoordinates[2].y - check.htmlCoordinates[0].y >= 0 && main.htmlCoordinates[2].y - check.htmlCoordinates[2].y <= 0) { return 1; }\n\t\tif(main.htmlCoordinates[0].y - check.htmlCoordinates[2].y <= 0 && main.htmlCoordinates[0].y - check.htmlCoordinates[0].y >= 0) { return -1; }\n\t\tif(main.coordinates[2].y - check.coordinates[0].y >= 0 && main.coordinates[2].y - check.coordinates[2].y <= 0) { return 2; }\n\t\tif(main.coordinates[0].y - check.coordinates[2].y <= 0 && main.coordinates[0].y - check.coordinates[0].y >= 0) { return -2; }\n\t\treturn 0;\n\t}\n\n\tcheckOverlapX (main, check) {\n\t\tif(main.htmlCoordinates[2].x - check.htmlCoordinates[0].x >= 0 && main.htmlCoordinates[2].x - check.htmlCoordinates[2].x <= 0) { return 1; }\n\t\tif(main.htmlCoordinates[0].x - check.htmlCoordinates[2].x <= 0 && main.htmlCoordinates[0].x - check.htmlCoordinates[0].x >= 0) { return -1; }\n\t\tif(main.coordinates[2].x - check.coordinates[0].x >= 0 && main.coordinates[2].x - check.coordinates[2].x <= 0) { return 2; }\n\t\tif(main.coordinates[0].x - check.coordinates[2].x <= 0 && main.coordinates[0].x - check.coordinates[0].x >= 0) { return -2; }\n\t\treturn 0;\n\t}\n\n\t// update every active object's coordinates (which will in turn update every one of its basic objects' coordinates)\n\tupdateCoordinates () {\n\t\tfor(let i = 0; i < this.overlapObjects.length; i++){\n\t\t\tthis.overlapObjects[i].updateCoordinates();\n\t\t}\n\t}\n\n\t// detect any overlap between a target object (active) and a check (basic)\n\tcalculateOverlap (main, check){\n\n\t\tlet overlapX = this.checkOverlapX(main, check);\n\t\tlet overlapY = this.checkOverlapY(main, check);\n\n\t\treturn {\n\t\t\tx: main.axis.x ? overlapX : overlapY,\n\t\t\ty: main.axis.y ? overlapY : overlapX\n\t\t}\n\n\t}\n\n\t// for now if neither of the two objects involved in the overlap have an offset property the only two callbacks executed will be \"onOverlap\" and \"onLeave\" (\"definitely something I'll fix soon!\")\n\tcheckOverlap (main, check) {\n\n\t\tconst overlap = this.calculateOverlap(main, check.object);\n\n\t\tif(overlap.x && overlap.y){\n\n\t\t\tif(Math.abs(overlap.x) === Math.abs(overlap.y)){\n\n\t\t\t\tif(overlap.x % 2 === 0 && overlap.y % 2 === 0) {\n\n\t\t\t\t\tif( ((overlap.x + check.lastOverlapData.x) % 3 === 0 && overlap.x * check.lastOverlapData.x > 0 && overlap.x % 2 === 0) || ((overlap.y + check.lastOverlapData.y) % 3 === 0 && overlap.y * check.lastOverlapData.y > 0 && overlap.y % 2 === 0) ){\n\n\t\t\t\t\t\tcheck.callbacks.onExit(main.HTML, check.object.HTML);\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tcheck.callbacks.onApproach(main.HTML, check.object.HTML);\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tcheck.callbacks.onOverlap(main.HTML, check.object.HTML);\n\n\t\t\t\t}\n\n\t\t\t} else if(overlap.x % 2 === 0 || overlap.y % 2 === 0) {\n\n\t\t\t\tif( ((overlap.x + check.lastOverlapData.x) % 3 === 0 && overlap.x * check.lastOverlapData.x > 0 && overlap.x % 2 === 0) || ((overlap.y + check.lastOverlapData.y) % 3 === 0 && overlap.y * check.lastOverlapData.y > 0 && overlap.y % 2 === 0) ){\n\n\t\t\t\t\tcheck.callbacks.onExit(main.HTML, check.object.HTML);\n\n\t\t\t\t} else {\n\n\t\t\t\t\tcheck.callbacks.onApproach(main.HTML, check.object.HTML);\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if((!overlap.x || !overlap.y) && (check.lastOverlapData.x && check.lastOverlapData.y)) {\n\n\t\t\tcheck.callbacks.onLeave(main.HTML, check.object.HTML);\n\n\t\t}\n\n\t\tcheck.lastOverlapData = overlap;\n\n\t}\n\n\tdisplayGraphicalTest () {\n\n\t\tthis.updateCoordinates();\n\t\tthis.graphicalTest.clearTestDisplay();\n\t\tfor(let i = 0; i < this.overlapObjects.length; i++){\n\t\t\tthis.graphicalTest.display(this.overlapObjects[i]);\n\t\t}\n\n\t}\n\n\t// initialise a graphical test for Lappy's current instance\n\taddGraphicalTest (graphicalTestData) {\n\n\t\tif(!this.graphicalTest){\n\t\t\tthis.graphicalTest = new GraphicalTest(graphicalTestData);\n\t\t\tthis.resizeGraphicalTestCanvas();\n\t\t} else {\n\t\t\tthrow 'Graphical test already initialised!';\n\t\t}\n\n\t}\n\n\t// This is how the Lappy dooo...\n\twatch () {\n\n\t\tthis.updateCoordinates();\n\n\t\tif(this.graphicalTest && !this.graphicalTest.paused){\n\t\t\tthis.displayGraphicalTest();\n\t\t}\n\n\t\tfor(let i = 0; i < this.overlapObjects.length; i++){\n\t\t\tlet currentActive = this.overlapObjects[i];\n\t\t\tfor(let r = 0; r < currentActive.trackedObjects.length; r++){\n\t\t\t\tthis.checkOverlap(currentActive, currentActive.trackedObjects[r]);\n\t\t\t}\n\t\t}\n\n\t}\n\n}\n"],"sourceRoot":""}